#ifndef HISTABLE_H
#define HISTABLE_H
#include "stdafx.h"
#include "winSet.h"

//-----------------------------------------------------------------------------------------------------------------------------------
// HIS系统单据类
//-----------------------------------------------------------------------------------------------------------------------------------
class HISTable
{
public:
    HISTable();

    //-----------------------------------------------------------------------------------------------------------------------------------
    // 名称：Read
    // 作用：从数据库中读取
    // 参数：无
    // 返回值：
    // true  - 读取成功
    // false - 读取失败
    // 备注：需要在子类中实现
    // 时间：2016-04-20
    //-----------------------------------------------------------------------------------------------------------------------------------
    virtual bool Read() = 0;

    //-----------------------------------------------------------------------------------------------------------------------------------
    // 名称：Save
    // 作用：保存到数据库
    // 参数：无
    // 返回值：
    // true  - 保存成功
    // false - 保存失败
    // 备注：需要在子类中实现
    // 时间：2016-04-20
    //-----------------------------------------------------------------------------------------------------------------------------------
    virtual bool Save() = 0;

    //-----------------------------------------------------------------------------------------------------------------------------------
    // 名称：Delete
    // 作用：从数据库中删除
    // 参数：无
    // 返回值：
    // true  - 删除成功
    // false - 删除失败
    // 备注：需要在子类中实现
    // 时间：2016-04-20
    //-----------------------------------------------------------------------------------------------------------------------------------
    virtual bool Delete() = 0;
protected:

    //-----------------------------------------------------------------------------------------------------------------------------------
    // 名称：getNewID
    // 作用：根据年月日时分秒产生新的单号
    // 参数：无
    // 返回值：
    // QString  - 新单号
    // 备注：需要在子类中实现
    // 时间：2016-04-20
    //-----------------------------------------------------------------------------------------------------------------------------------
    QString getNewID() const;

    //-----------------------------------------------------------------------------------------------------------------------------------
    // 名称：deleteRows
    // 作用：从数据库指定表中删除指定数据项为指定数据的行
    // 参数：
    // strTableName - 数据库表名称
    // strIndexName - 数据库列名称
    // str          - 制定内容
    // 返回值：
    // true  - 删除成功
    // false - 删除失败
    // 备注：此函数不提供数据库的链接和打开，只产生sql语句并执行。
    // 时间：2016-04-21
    //-----------------------------------------------------------------------------------------------------------------------------------
    bool deleteRows(QString strTableName, QString strIndexName, QString str) const;

};

#endif // HISTABLE_H
